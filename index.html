<!DOCTYPE HTML>

<html>

<head>
    <title>Mirror</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
    <!--[if lte IE 8]><script src="assets/js/ie/html5shiv.js"></script><![endif]-->
    <link rel="stylesheet" href="assets/css/main.css" />
    <!--[if lte IE 9]><link rel="stylesheet" href="assets/css/ie9.css" /><![endif]-->
    <!--[if lte IE 8]><link rel="stylesheet" href="assets/css/ie8.css" /><![endif]-->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <link rel="stylesheet" href="assets/css/font-awesome/css/font-awesome.min.css">
</head>

<body>

    <!-- Wrapper -->
    <div id="wrapper">

        <!-- Banner -->
        <section id="banner" class="major">
            <div class="inner">
                <header class="major">
                    <h1>Hi, I'm Mirror.</h1>
                </header>
                <hr class="hr-no-padding-top">
                <div class="content">
                    <p id="output" style="font-size: 20px;">We'd like to know a bit about you.
                    </p>
                </div>
                <div class="content">
                    <p id="time" style="font-size: 40px;"></p>
                </div>
                <div class="content row" style="font-size: 30px; padding-top: 20px;">
                    <div class="col-md-12" id="weather">
                        <i class="fa fa-cloud" aria-hidden="true"></i>
                        <p></p>
                    </div>
                </div>
                <br>
                <hr class="hr-no-padding-top">
                <div class="content row" style="font-size: 30px; padding-top: 20px;">
                    <ul style="list-style-type: none;">
                        <li>

                        </li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Scripts -->
        <script src="assets/js/jquery.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/annyang/2.5.0/annyang.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.simpleWeather/3.1.0/jquery.simpleWeather.min.js"></script>
        <script src="assets/js/jquery.scrolly.min.js"></script>
        <script src="assets/js/jquery.scrollex.min.js"></script>
        <script src="assets/js/skel.min.js"></script>
        <script src="assets/js/util.js"></script>
        <!--[if lte IE 8]><script src="assets/js/ie/respond.min.js"></script><![endif]-->
        <script src="assets/js/main.js"></script>

        <!-- Ajax API -->
        <script type="text/javascript">
            $(document).ready(function() {
    //feed to parse
    var feed = "http://rss.cnn.com/rss/cnn_topstories.rss?format=xml";
    
    $.ajax(feed, {
        accepts:{
            xml:"application/rss+xml"
        },
        dataType:"xml",
        success:function(data) {
            //Credit: http://stackoverflow.com/questions/10943544/how-to-parse-an-rss-feed-using-javascript

            $(data).find("item").each(function () { // or "item" or whatever suits your feed
                var el = $(this);
                console.log("------------------------");
                console.log("title      : " + el.find("title").text());
                console.log("link       : " + el.find("link").text());
                console.log("description: " + el.find("description").text());
            });
    

        }   
    });
    
});
        </script>
        <!-- annyang -->
        <script>
            if (annyang) {
                // Let's define our first command. First the text we expect, and then the function it should call
                var commands = {
                    'activate': function() {
                        console.log("hello");
                    }
                };

                // Add our commands to annyang
                annyang.addCommands(commands);

                // Start listening. You can call this here, or attach this call to an event, button, etc.
                annyang.start();
            }
        </script>
        <script>
            //Weather widget
            $(document).ready(function() {
                $.simpleWeather({
                    location: 'Waterloo, ON',
                    woeid: '',
                    unit: 'c',
                    success: function(weather) {
                        $("#weather > p:eq(0)").append(weather.currently + "<br>" + weather.city + "<br>" + weather.temp + "&#8451;");
                        console.log(weather.currently);
                        console.log(weather.city);
                        console.log(weather.image);

                    },
                    error: function(error) {
                        // $("#weather").html('<p>'+error+'</p>');
                    }
                });
            });

            // Clock widget
            function startTime() {
                var today = new Date();
                var h = today.getHours();
                var m = today.getMinutes();
                var s = today.getSeconds();
                // add a zero in front of numbers greater than 10
                var myDate = new Date().toTimeString().replace(/.*(\d{2}:\d{2}:\d{2}).*/, "$1");

                document.getElementById('time').innerHTML = myDate;
                setTimeout(startTime, 500);
            }

            function checkTime(i) {
                if (i < 10) {
                    i = "0" + i;
                }
                return i;
            }

            function convertHourToName(num) {
                if (num > 12) {
                    num -= 12;
                }
                return convertNumberToName(num);
            }

            function convertNumberToName(num) {
                var lowNames = ["zero", "one", "two", "three",
                    "four", "five", "six", "seven", "eight", "nine",
                    "ten", "eleven", "twelve", "thirteen", "fourteen",
                    "fifteen", "sixteen", "seventeen",
                    "eighteen", "nineteen"
                ];
                var tensNames = ["twenty", "thirty", "forty", "fifty",
                    "sixty", "seventy", "eighty", "ninety"
                ];
                var tens, ones, result;
                if (num < lowNames.length) {
                    result = lowNames[num];
                } else {
                    tens = Math.floor(num / 10);
                    ones = num % 10;
                    if (tens <= 9) {
                        result = tensNames[tens - 2];
                        if (ones > 0) {
                            result += " " + lowNames[ones];
                        }
                    } else {
                        result = "unknown"
                    }
                }
                return result;
            }

            startTime();
        </script>

</body>

</html>